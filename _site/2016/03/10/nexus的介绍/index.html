<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>nexus的介绍 &mdash; ssgao</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/css/components/collection.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/css/globals/common.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/css/posts/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mzlogin/rouge-themes@master/dist/github.css"><link rel="canonical" href="http://localhost:4000/2016/03/10/nexus%E7%9A%84%E4%BB%8B%E7%BB%8D/"><link rel="alternate" type="application/atom+xml" title="ssgao" href="http://localhost:4000/feed.xml"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/favicon.ico"><meta property="og:title" content="nexus的介绍"><meta name="keywords" content="nexus"><meta name="og:keywords" content="nexus"><meta name="description" content=""><meta name="og:description" content=""><meta property="og:url" content="http://localhost:4000/2016/03/10/nexus%E7%9A%84%E4%BB%8B%E7%BB%8D/"><meta property="og:site_name" content="ssgao"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2016-03-10"> <script src="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/js/jquery-ui.js"></script> <script src="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/js/main.js"></script></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1><a href="http://localhost:4000/" title="ssgao"><span class="octicon octicon-mark-github"></span> ssgao</a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="http://localhost:4000/" class=" site-header-nav-item" target="" title="首页">首页</a> <a href="http://localhost:4000/categories/" class=" site-header-nav-item" target="" title="分类">分类</a> <a href="http://localhost:4000/links/" class=" site-header-nav-item" target="" title="链接">链接</a> <a href="http://localhost:4000/about/" class=" site-header-nav-item" target="" title="关于">关于</a></nav></div></header><section class="collection-head small geopattern" data-pattern-id="nexus的介绍"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">nexus的介绍</h1><div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2016/03/10 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="http://localhost:4000/categories/#nexus" title="nexus">nexus</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 4311 字，约 13 分钟 </span></div></div></div><div class="column one-fourth mobile-hidden"><div class="collection-title"> <img style="height:72px;width:72px" src="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/images/qrcode.jpg" alt="ssgao断点" /></div></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><meta name="referrer" content="no-referrer" /><h3 id="nexus-的介绍">nexus 的介绍</h3><h4 id="nexus-的介绍和配置">nexus 的介绍和配置</h4><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">下载安装文件</span>
<span class="n">我的机器是64位windows所以我下载的是</span>
<span class="n">nexus</span><span class="o">-</span><span class="mf">3.0</span><span class="o">.</span><span class="mi">2</span><span class="o">-</span><span class="mo">02</span><span class="o">-</span><span class="n">win64</span><span class="o">.</span><span class="na">zip</span>
<span class="n">下载地址</span><span class="err">：</span><span class="nl">https:</span><span class="c1">//www.sonatype.com/download-oss-sonatype  nexus-3.1.xx-win64.zip</span>

<span class="n">安装私服</span>
<span class="n">将下载的zip文件加压的指定的文件夹目录</span><span class="err">，</span><span class="n">打开对应的bin</span> <span class="n">文件夹</span>
<span class="nl">G:</span><span class="err">\</span><span class="n">programFiles</span><span class="err">\</span><span class="n">nexus</span><span class="o">-</span><span class="mf">3.1</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="mo">04</span><span class="err">\</span><span class="n">bin</span>
<span class="n">将该路径添加到环境变量path路径中</span>
</code></pre></div></div><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">对应bin文件夹在的nexus</span><span class="o">.</span><span class="na">vmoptions</span> <span class="n">文件修改数据存储路径</span>


<span class="o">-</span><span class="nc">Xms1000M</span>
<span class="o">-</span><span class="nc">Xmx1000M</span>
<span class="o">-</span><span class="nl">XX:</span><span class="nc">MaxDirectMemorySize</span><span class="o">=</span><span class="mi">2</span><span class="no">G</span>
<span class="o">-</span><span class="nl">XX:</span><span class="o">+</span><span class="nc">HeapDumpOnOutOfMemoryError</span>
<span class="o">-</span><span class="nl">XX:</span><span class="o">+</span><span class="nc">UnlockDiagnosticVMOptions</span>
<span class="o">-</span><span class="nl">XX:</span><span class="o">+</span><span class="nc">UnsyncloadClass</span>
<span class="o">-</span><span class="nl">XX:</span><span class="o">+</span><span class="nc">LogVMOutput</span>
<span class="o">-</span><span class="nl">XX:</span><span class="nc">LogFile</span><span class="o">=../</span><span class="n">sonatype</span><span class="o">-</span><span class="n">work</span><span class="o">/</span><span class="n">nexus3</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">jvm</span><span class="o">.</span><span class="na">log</span>
<span class="o">-</span><span class="nc">Djava</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">preferIPv4Stack</span><span class="o">=</span><span class="kc">true</span>
<span class="o">-</span><span class="nc">Dkaraf</span><span class="o">.</span><span class="na">home</span><span class="o">=.</span>
<span class="o">-</span><span class="nc">Dkaraf</span><span class="o">.</span><span class="na">base</span><span class="o">=.</span>
<span class="o">-</span><span class="nc">Dkaraf</span><span class="o">.</span><span class="na">etc</span><span class="o">=</span><span class="n">etc</span><span class="o">/</span><span class="n">karaf</span>
<span class="o">-</span><span class="nc">Djava</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">logging</span><span class="o">.</span><span class="na">config</span><span class="o">.</span><span class="na">file</span><span class="o">=</span><span class="n">etc</span><span class="o">/</span><span class="n">karaf</span><span class="o">/</span><span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">logging</span><span class="o">.</span><span class="na">properties</span>
<span class="o">-</span><span class="nc">Dkaraf</span><span class="o">.</span><span class="na">data</span><span class="o">=../</span><span class="n">sonatype</span><span class="o">-</span><span class="n">work</span><span class="o">/</span><span class="n">nexus3</span>
<span class="o">-</span><span class="nc">Djava</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">tmpdir</span><span class="o">=../</span><span class="n">sonatype</span><span class="o">-</span><span class="n">work</span><span class="o">/</span><span class="n">nexus3</span><span class="o">/</span><span class="n">tmp</span>
<span class="o">-</span><span class="nc">Dkaraf</span><span class="o">.</span><span class="na">startLocalConsole</span><span class="o">=</span><span class="kc">false</span>
</code></pre></div></div><p>​</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">修改IP</span><span class="o">,</span><span class="n">端口</span><span class="err">，</span><span class="n">启动路径</span> <span class="n">etc</span><span class="o">/</span><span class="n">nexus</span><span class="o">-</span><span class="k">default</span><span class="o">.</span><span class="na">properties文件</span>


<span class="err">#</span> <span class="nc">Jetty</span> <span class="n">section</span>
<span class="n">application</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">9090</span>  <span class="o">--</span><span class="n">端口</span>
<span class="n">application</span><span class="o">-</span><span class="n">host</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span> <span class="o">--</span><span class="no">IP</span>
<span class="n">nexus</span><span class="o">-</span><span class="n">args</span><span class="o">=</span><span class="err">$</span><span class="o">{</span><span class="n">jetty</span><span class="o">.</span><span class="na">etc</span><span class="o">}/</span><span class="n">jetty</span><span class="o">.</span><span class="na">xml</span><span class="o">,</span><span class="err">$</span><span class="o">{</span><span class="n">jetty</span><span class="o">.</span><span class="na">etc</span><span class="o">}/</span><span class="n">jetty</span><span class="o">-</span><span class="n">http</span><span class="o">.</span><span class="na">xml</span><span class="o">,</span><span class="err">$</span><span class="o">{</span><span class="n">jetty</span><span class="o">.</span><span class="na">etc</span><span class="o">}/</span><span class="n">jetty</span><span class="o">-</span><span class="n">requestlog</span><span class="o">.</span><span class="na">xml</span>
<span class="n">nexus</span><span class="o">-</span><span class="n">context</span><span class="o">-</span><span class="n">path</span><span class="o">=/</span><span class="n">nexus</span>  <span class="o">--</span><span class="n">访问路劲</span>


<span class="err">#</span> <span class="nc">Nexus</span> <span class="n">section</span>
<span class="n">nexus</span><span class="o">-</span><span class="n">edition</span><span class="o">=</span><span class="n">nexus</span><span class="o">-</span><span class="n">pro</span><span class="o">-</span><span class="n">edition</span>
<span class="n">nexus</span><span class="o">-</span><span class="n">features</span><span class="o">=</span><span class="err">\</span>
 <span class="n">nexus</span><span class="o">-</span><span class="n">pro</span><span class="o">-</span><span class="n">feature</span>
</code></pre></div></div><h4 id="运行-nexus">运行 nexus</h4><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">运行nexus</span>
<span class="n">cmd</span> <span class="n">窗口执行命令</span> <span class="n">nexus</span><span class="o">.</span><span class="na">exe</span> <span class="o">/</span><span class="n">run</span>
<span class="n">访问链接</span><span class="err">：</span><span class="nl">http:</span><span class="c1">//127.0.0.1:9090/nexus</span>
<span class="n">登录密码</span><span class="err">：</span><span class="n">admin</span><span class="o">/</span><span class="n">admin123</span>
</code></pre></div></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/659846/1636440175959-297a11a3-2030-4242-83b4-91df1501188b.png#clientId=u24335143-d614-4&amp;from=paste&amp;height=341&amp;id=ub0bd76bd&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=682&amp;originWidth=1640&amp;originalType=binary&amp;ratio=1&amp;size=543627&amp;status=done&amp;style=none&amp;taskId=u3424c0e7-822b-4082-978a-43b828409ce&amp;width=820" alt="image.png" /></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/659846/1636440214737-04c968fe-57e5-4967-b2a2-6ea9df255dbc.png#clientId=u24335143-d614-4&amp;from=paste&amp;height=376&amp;id=uc14d6766&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=752&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;size=745388&amp;status=done&amp;style=none&amp;taskId=uef168633-5dc3-4829-af5f-079462baba6&amp;width=825" alt="image.png" /></p><h4 id="repositories">Repositories</h4><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">proxy</span>
  <span class="n">这里就是代理的意思</span><span class="err">，</span><span class="n">代理中央maven仓库</span><span class="err">，</span><span class="n">当PC访问中央仓库的时候</span><span class="err">，</span><span class="n">先通过proxy下载到nexus仓库</span><span class="err">，</span>
  <span class="n">然后再从Nexus仓库下载到本地PC</span><span class="err">，</span><span class="n">这样的一个优势就是只要其中一个从中央仓库下载下来</span><span class="err">，</span><span class="n">以后大家都是从nexus私服上进行下载</span><span class="err">，</span>
  <span class="n">私服一般部署在内网</span><span class="err">，</span><span class="n">这样大大节约宽带</span><span class="err">。</span>
</code></pre></div></div><blockquote><p><strong><em>创建 proxy 的具体步骤</em></strong>​</p></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2021/png/659846/1636440277233-f501309e-123f-4cff-90e3-7ea45495cc9a.png#clientId=u24335143-d614-4&amp;from=paste&amp;height=410&amp;id=u086fc3d8&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=820&amp;originWidth=1630&amp;originalType=binary&amp;ratio=1&amp;size=1107742&amp;status=done&amp;style=none&amp;taskId=u250c47cd-8677-4bd7-828e-614271fa7ed&amp;width=815" alt="image.png" /> <img src="https://cdn.nlark.com/yuque/0/2021/png/659846/1636440290355-f75a8042-7361-4bbb-8c6c-f13ff9997844.png#clientId=u24335143-d614-4&amp;from=paste&amp;height=505&amp;id=u326beb4d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1010&amp;originWidth=1638&amp;originalType=binary&amp;ratio=1&amp;size=1067663&amp;status=done&amp;style=none&amp;taskId=u676d302f-4689-4159-afd5-f15b0a24d55&amp;width=819" alt="image.png" /></p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">下载的nexus的版本</span>
  <span class="n">nexus</span><span class="o">-</span><span class="mf">2.14</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mo">01</span>
<span class="n">运行对应目录</span><span class="err">\</span><span class="n">bin</span><span class="err">\</span><span class="n">jsw</span><span class="err">\</span><span class="n">windows</span><span class="o">-</span><span class="n">x86</span><span class="o">-</span><span class="mi">64</span><span class="n">下的如下脚本</span>
<span class="n">install</span><span class="o">-</span><span class="n">nexus</span><span class="o">.</span><span class="na">bat</span>
<span class="n">start</span><span class="o">-</span><span class="n">nexus</span><span class="o">.</span><span class="na">bat</span>
 <span class="n">stop</span><span class="o">-</span><span class="n">nexus</span><span class="o">.</span><span class="na">bat</span>

<span class="n">访问URL</span><span class="err">：</span><span class="nl">http:</span><span class="c1">//127.0.0.1:8081/nexus</span>
</code></pre></div></div><h5 id="nexusrepositories-的介绍">nexusrepositories 的介绍</h5><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">在Nexus的Repositories中</span><span class="err">：</span><span class="n">主要有两种类型的工厂hosted和proxy</span>
</code></pre></div></div><h5 id="hosted-本地工厂">hosted 本地工厂</h5><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">只是面向内部服务</span><span class="err">，</span><span class="n">面向局域网</span>
<span class="mi">3</span><span class="n">rd</span> <span class="nl">party:</span> <span class="n">存放maven中央仓库中没有第三方jar包</span>
<span class="nl">releases:</span><span class="n">存放maven中提交的Releases项目</span>
<span class="n">snapshots</span><span class="err">：</span><span class="n">存放maven中提交的snapshot项目</span>

</code></pre></div></div><h4 id="proxy-代理工厂">proxy 代理工厂</h4><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">central:</span><span class="n">存放从maven中央工厂中下载下来的jar包</span>
<span class="nc">Apache</span> <span class="nl">Snapshots:</span><span class="n">存放专门从Apache下载的snapshots的jar包</span>
<span class="nc">Codehaus</span> <span class="nc">Snapshots</span><span class="err">：</span><span class="n">存放专门从Codehaus下载的Snapshots的jar包</span>
</code></pre></div></div><h4 id="maven-或-pom-中使用">maven 或 pom 中使用</h4><h5 id="maven-中配置-nexus-仓库">maven 中配置 nexus 仓库</h5><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">配置maven不从maven自身的中央工厂找jar</span><span class="err">，</span><span class="n">而是从这个nexus私服工厂中找jar包</span>
</code></pre></div></div><h5 id="临时配置用户配置">临时配置(用户配置)</h5><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">表示只针对当前项目的配置方式</span><span class="err">，</span><span class="n">只要当前项目找jar包的时候是来nexus中找</span><span class="err">，</span><span class="n">但是如果一个新的项目</span><span class="err">，</span><span class="n">需要针对每个项目都进行配置</span>

 <span class="n">pom</span><span class="o">.</span><span class="na">xml</span>
<span class="o">&lt;</span><span class="n">repositories</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">repository</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">id</span><span class="o">&gt;</span><span class="n">nexus</span><span class="o">&lt;/</span><span class="n">id</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="nc">Nexus</span> <span class="nc">Repository</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="nl">http:</span><span class="c1">//localhost:8081/nexus/content/groups/public/&lt;/url&gt;</span>
     <span class="o">&lt;/</span><span class="n">repository</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">repositories</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">pulginRepositories</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">pulginRepository</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">id</span><span class="o">&gt;</span><span class="n">nexus</span><span class="o">&lt;/</span><span class="n">id</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="nc">Nexus</span> <span class="nc">Repository</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="nl">http:</span><span class="c1">//localhost:8081/nexus/content/groups/public/&lt;/url&gt;</span>
   <span class="o">&lt;/</span><span class="n">pulginRepository</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">pulginRepositories</span><span class="o">&gt;</span>
</code></pre></div></div><h5 id="全局配置">全局配置</h5><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">这样配置表示不管哪个项目</span><span class="err">，</span><span class="n">只要局域网内使用maven下载jar包</span><span class="err">，</span><span class="n">都会来Nexus的私服工厂来下载</span><span class="err">，</span><span class="n">通过修改Maven的setting</span><span class="o">.</span><span class="na">xml的全局配置文件</span><span class="err">，</span><span class="n">增加一个或多个profile配置</span><span class="err">。</span>

<span class="o">&lt;</span><span class="n">profiles</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">profile</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">id</span><span class="o">&gt;</span><span class="n">nexusProfile</span><span class="o">&lt;/</span><span class="n">id</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">repositories</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="n">repository</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">id</span><span class="o">&gt;</span><span class="n">nexus</span><span class="o">&lt;/</span><span class="n">id</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="nc">Nexus</span> <span class="nc">Repository</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="nl">http:</span><span class="c1">//localhost:8081/nexus/content/groups/public/&lt;/url&gt;</span>
            <span class="o">&lt;!--</span> <span class="n">releases默认是true</span> <span class="o">--&gt;</span>
            <span class="o">&lt;</span><span class="n">releases</span><span class="o">&gt;&lt;</span><span class="n">enabled</span><span class="o">&gt;</span><span class="kc">true</span><span class="o">&lt;/</span><span class="n">enabled</span><span class="o">&gt;&lt;/</span><span class="n">releases</span><span class="o">&gt;</span>
            <span class="o">&lt;!--</span> <span class="n">snapshots默认是false</span> <span class="o">--&gt;</span>
            <span class="o">&lt;</span><span class="n">snapshots</span><span class="o">&gt;&lt;</span><span class="n">enabled</span><span class="o">&gt;</span><span class="kc">true</span><span class="o">&lt;/</span><span class="n">enabled</span><span class="o">&gt;&lt;/</span><span class="n">snapshots</span><span class="o">&gt;</span>
          <span class="o">&lt;/</span><span class="n">repository</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">repositories</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">profile</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">profiles</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">activeProfiles</span><span class="o">&gt;</span>
    <span class="o">&lt;!--</span> <span class="n">激活nexusRepo这个profile</span><span class="err">：</span><span class="n">只有激活才生效</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="n">activeProfile</span><span class="o">&gt;</span><span class="n">nexusProfile</span><span class="o">&lt;/</span><span class="n">activeProfile</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">activeProfiles</span><span class="o">&gt;</span>
</code></pre></div></div><h5 id="配置-nexus-的景象">配置 nexus 的景象</h5><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">配置nexus的景象的目的是</span><span class="err">：</span><span class="n">有时候每个开发人员需要在我们的私服中找jar包</span><span class="err">，</span><span class="n">但是如果私服中也没有的话</span><span class="err">，</span><span class="n">就回去maven的中央工厂找</span><span class="err">。</span><span class="n">实际中开发人员是不允许直接去工厂找jar包</span><span class="err">，</span><span class="n">所需要的jar包都来内部私服找</span><span class="err">，</span><span class="n">私服再去找中央仓库</span><span class="err">。</span>

<span class="n">在maven的setting</span><span class="o">.</span><span class="na">xml配置文件中配置</span>

<span class="o">&lt;</span><span class="n">mirrors</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">mirror</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">id</span><span class="o">&gt;</span><span class="n">nexusMirror</span><span class="o">&lt;/</span><span class="n">id</span><span class="o">&gt;</span>
  <span class="o">&lt;!--</span> <span class="n">配置工厂镜像</span><span class="err">，</span><span class="n">只要mirror中配置的工厂需要找jar包</span><span class="err">，</span><span class="n">都来这个url中找</span><span class="o">[</span><span class="n">也就是都来私服中找</span><span class="o">]</span>
  <span class="n">即使在这个私服中找不到了</span><span class="err">，</span><span class="n">也不会去Maven的中央工厂中找</span>
  <span class="n">mirrorOf中配置的表示是工厂的id</span>
  <span class="n">central工厂位置</span><span class="err">：</span><span class="n">apache</span><span class="o">-</span><span class="n">maven</span><span class="o">-</span><span class="mf">3.3</span><span class="o">.</span><span class="mi">9</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">maven</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">builder</span><span class="o">-</span><span class="mf">3.3</span><span class="o">.</span><span class="mi">9</span><span class="o">.</span><span class="na">jar</span><span class="err">\</span><span class="n">pom</span><span class="o">-</span><span class="mf">4.0</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="na">xml</span>
  <span class="nl">central工厂表示是Maven自己的工厂https:</span><span class="c1">//repo.maven.apache.org/</span>
  <span class="n">maven2</span><span class="err">，</span><span class="n">这个地址就是Maven默认去找jar包的一个Maven中央工厂</span>
   <span class="o">--&gt;</span>

  <span class="o">&lt;!--</span> <span class="n">这里也可以使用</span><span class="o">*</span><span class="n">号来代替所有的工厂都使用这个镜像来获取jar包</span>
  <span class="o">&lt;</span><span class="n">mirrorOf</span><span class="o">&gt;</span><span class="n">nexus</span><span class="o">,</span><span class="n">central</span><span class="o">&lt;/</span><span class="n">mirrorOf</span><span class="o">&gt;</span>
  <span class="o">--&gt;</span>
  <span class="o">&lt;</span><span class="n">mirrorOf</span><span class="o">&gt;*&lt;/</span><span class="n">mirrorOf</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="nc">Human</span> <span class="nc">Readable</span> <span class="nc">Name</span> <span class="k">for</span> <span class="k">this</span> <span class="nc">Mirror</span><span class="o">.&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="nl">http:</span><span class="c1">//localhost:8081/nexus/content/groups/public/&lt;/url&gt;</span>
<span class="o">&lt;/</span><span class="n">mirror</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">mirrors</span><span class="o">&gt;</span>




<span class="n">当然</span><span class="err">，</span><span class="n">如果这里定义了mirroe</span><span class="err">，</span><span class="n">那么上面定义的激活profile定义就没有意义了</span><span class="err">，</span><span class="n">可以直接注释掉</span>
<span class="o">&lt;</span><span class="n">activeProfiles</span><span class="o">&gt;</span>
    <span class="o">&lt;!--</span> <span class="n">激活nexusRepo这个profile</span><span class="err">：</span><span class="n">只有激活才生效</span> <span class="o">--&gt;</span>
    <span class="o">&lt;!--</span> <span class="o">&lt;</span><span class="n">activeProfile</span><span class="o">&gt;</span><span class="n">nexusProfile</span><span class="o">&lt;/</span><span class="n">activeProfile</span><span class="o">&gt;</span> <span class="o">--&gt;</span>
<span class="o">&lt;/</span><span class="n">activeProfiles</span><span class="o">&gt;</span>
</code></pre></div></div><h4 id="nexus-的配置截图">nexus 的配置截图</h4><p><img src="https://cdn.nlark.com/yuque/0/2021/png/659846/1636440352897-9f1399bc-e2f4-40aa-b682-7cd5ffaba438.png#clientId=u24335143-d614-4&amp;from=paste&amp;height=419&amp;id=u4bce172e&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=838&amp;originWidth=1610&amp;originalType=binary&amp;ratio=1&amp;size=967354&amp;status=done&amp;style=none&amp;taskId=u364235d6-a0d6-47f1-af7d-2d025536e53&amp;width=805" alt="image.png" /></p><blockquote><p><strong><em>创建仓库</em></strong>​</p></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2021/png/659846/1636440393104-2e364249-5c69-4326-9a7a-bf2bbb21c2c7.png#clientId=u24335143-d614-4&amp;from=paste&amp;height=369&amp;id=uce1f5075&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=738&amp;originWidth=1606&amp;originalType=binary&amp;ratio=1&amp;size=1179218&amp;status=done&amp;style=none&amp;taskId=ub2e82d83-4047-47c9-9c59-b2e3a6397b8&amp;width=803" alt="image.png" /></p><blockquote><p><strong><em>创建代理仓库</em></strong>​</p></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2021/png/659846/1636440441493-3f3ab035-2432-4f4f-b2c3-159052c928ea.png#clientId=u24335143-d614-4&amp;from=paste&amp;height=586&amp;id=ub47f9c82&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1172&amp;originWidth=1636&amp;originalType=binary&amp;ratio=1&amp;size=1510655&amp;status=done&amp;style=none&amp;taskId=u240205d8-39ec-4e89-9812-41807b0aa3f&amp;width=818" alt="image.png" /></p><h5 id="创建仓库组">创建仓库组</h5><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">nexus中仓库组的概念是maven没有的</span><span class="err">，</span><span class="n">在maven看来</span><span class="err">，</span><span class="n">不管是hosted也好</span><span class="err">，</span><span class="n">proxy也好</span><span class="err">，</span><span class="n">或是group页面对maven来说都是一样的</span><span class="err">，</span><span class="n">只要根据groupid</span><span class="o">,</span><span class="n">artifactid</span><span class="err">，</span><span class="n">version等信息向nexus要构件</span><span class="err">。</span><span class="n">为了方便maven的配置</span><span class="err">，</span><span class="n">nexus能够将多个仓库</span><span class="err">，</span><span class="n">hosted或者proxy合并成一个group</span><span class="err">，</span><span class="n">这样maven只需要依赖一个group</span><span class="err">，</span><span class="n">便能使用该group包含的仓库的内容</span><span class="o">.</span>
</code></pre></div></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/659846/1636440499662-d96afcf8-244c-47c4-aef7-352336bfcc26.png#clientId=u24335143-d614-4&amp;from=paste&amp;height=382&amp;id=u289a819e&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=764&amp;originWidth=1602&amp;originalType=binary&amp;ratio=1&amp;size=900106&amp;status=done&amp;style=none&amp;taskId=u5a4cee80-5df3-43b0-be65-c75bd328402&amp;width=801" alt="image.png" /></p><h3 id="测试文档内容">测试文档内容</h3><div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"><h3>文档信息</h3><ul><li>本文作者：<a href="http://localhost:4000" target="_blank">ssgao</a></li><li>本文链接：<a href="http://localhost:4000/2016/03/10/nexus%E7%9A%84%E4%BB%8B%E7%BB%8D/" target="_blank">http://localhost:4000/2016/03/10/nexus%E7%9A%84%E4%BB%8B%E7%BB%8D/</a></li><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li></ul></div></article><div class="share"></div><div class="comment"><div id="gitalk-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/vendor/gitalk/gitalk.css"> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <script> var gitalk = new Gitalk({ id: '/2016/03/10/nexus%E7%9A%84%E4%BB%8B%E7%BB%8D/', clientID: 'd2e1cbbd298958076462', clientSecret: 'b42a4178e5fd4a7cf63189ef4b1453b05c375709', repo: 'blog-comments', owner: 'mzlogin', admin: ['mzlogin'], labels: ['gitment'], perPage: 50, }); gitalk.render('gitalk-container'); </script></div></div><div class="column one-fourth"><h3>Search</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'http://localhost:4000/assets/search_data.json?v=1636615028', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script><h3 class="post-directory-title mobile-hidden">Table of Contents</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/js/jquery.toc.js"></script></div></div></section><style> .videoWrapper { position: relative; padding-bottom: 56.333%; height: 0; background: black; } .videoWrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }</style><script> function get_youtube_id(url) { var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/; return (url.match(p)) ? RegExp.$1 : false; } function vimeo_embed(url,el) { var id = false; $.ajax({ url: 'https://vimeo.com/api/oembed.json?url='+url, async: true, success: function(response) { if(response.video_id) { id = response.video_id; if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0; if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0; var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0'; if(autoplay==1) theInnerHTML += '&autoplay=1'; if(loop==1) theInnerHTML += '&loop=1'; theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; el.innerHTML = theInnerHTML; } } }); } function video_embed() { var p = document.getElementsByTagName('p'); for(var i = 0; i < p.length; i++) { //check if this is an external url (that starts with https:// or http:// if (p[i].innerHTML.indexOf("http://") == 0 || p[i].innerHTML.indexOf("https://") == 0) { var youtube_id = get_youtube_id(p[i].innerHTML); if(youtube_id) { if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0; if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0; var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0'; if(autoplay==1) theInnerHTML += '&autoplay=1'; if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3'; if(p[i].innerHTML.indexOf('start=') !== -1) theInnerHTML += '&start='+p[i].innerHTML.substring(p[i].innerHTML.indexOf('start=')+6); theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>'; p[i].innerHTML = theInnerHTML; } if(p[i].innerHTML.indexOf('vimeo.com') !== -1) { //ask vimeo for the id and place the embed vimeo_embed(p[i].innerHTML,p[i]); } } } } video_embed(); function mp3_embed() { var p = document.getElementsByTagName('p'); for(var i = 0; i < p.length; i++) { if(p[i].innerHTML.indexOf('.mp3') !== -1) { var str = p[i].innerHTML.split('?'); if(str.length == 1) str[1] = ''; var str1 = str[1]; str1 = str1.replace('&','').replace('&',''); str1 = str1.replace('autoplay=1','').replace('autoplay=0',''); str1 = str1.replace('loop=1','').replace('loop=0',''); str1 = str1.replace('controls=0','').replace('controls=1',''); if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) { if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0; if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0; if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1; var newInnerHTML = '<audio'; if(autoplay==1) newInnerHTML += ' autoplay'; if(loop==1) newInnerHTML += ' loop'; if(controls==1) newInnerHTML += ' controls'; newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>'; p[i].innerHTML = newInnerHTML; } } } } mp3_embed(); </script><footer class="container"><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2015 <span title="ssgao">ssgao</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="https://github.com/aouoxx/aouoxx.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="http://localhost:4000/" title="首页" target="">首页</a></li><li> <a href="http://localhost:4000/categories/" title="分类" target="">分类</a></li><li> <a href="http://localhost:4000/links/" title="链接" target="">链接</a></li><li> <a href="http://localhost:4000/about/" title="关于" target="">关于</a></li><li><a href="http://localhost:4000/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a></div><script src="https://cdn.jsdelivr.net/gh/aouoxx/aouoxx.github.io@master/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script><div style="display:none"> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-80669434-1', 'auto'); ga('send', 'pageview'); </script></div></body></html>
