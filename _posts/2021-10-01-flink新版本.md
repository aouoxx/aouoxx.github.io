```java
Unsafe类找不到

符号: 方法 defineClass(java.lang.String,byte[],int,int,java.lang.ClassLoader,java.security.ProtectionDomain)
位置: 类 sun.misc.Unsafe

设置环境变量 JAVA_HOME
设置环境变量 CLASSPATH, 加上 unsafe 类所在 jar 包路径



找不到jar包
[ERROR] Failed to execute goal on project flink-avro-confluent-registry: Could not resolve dependencies for project org.apache.flink:flink-avro-confluent-registry:jar:1.8-SNAPSHOT: Could not find artifact io.confluent:kafka-schema-registry-client:jar:3.3.1 in nexus-aliyun (http://maven.aliyun.com/nexus/content/groups/public) -> [Help 1]
<mirror>
	<id>confluent</id>
	<mirrorOf>confluent</mirrorOf>
	<name>confluent</name>
	<url>http://packages.confluent.io/maven/</url>
</mirror>

或是下载后通过maven install命令进行安装

因为阿里云的maven仓库的403权限无法下载
[ERROR] Failed to execute goal
	com.diffplug.spotless:spotless-maven-plugin:2.4.2:check
    (spotless-check) on project flink-annotations:
    Execution spotless-check of goal com.diffplug.spotless:spotless-maven-plugin:2.4.2:check failed:
    Unable to resolve dependencies:
    Failed to collect dependencies at com.google.googlejavaformat:google-java-format:jar:1.7 -> com.google.errorprone:javac-shaded:jar:9+181-r4173-1: Failed to read artifact descriptor for com.google.errorprone:javac-shaded:jar:9+181-r4173-1:
    Could not transfer artifact com.google.errorprone:javac-shaded:pom:9+181-r4173-1 from/to nexus-aliyun (https://maven.aliyun.com/repository/public/): Authorization failed for https://maven.aliyun.com/repository/public/com/google/errorprone/javac-shaded/9+181-r4173-1/javac-shaded-9+181-r4173-1.pom 403 Forbidden -> [Help 1]

将flink根pom中的plugin注释掉
<!--			<plugin>-->
<!--				<groupId>com.diffplug.spotless</groupId>-->
<!--				<artifactId>spotless-maven-plugin</artifactId>-->
<!--			</plugin>-->

```

```java
mvn clean package -DskipTests -Pvendor-repos -Drat.skip=true -Pinclude-hadoop -Dhadoop.version=3.0.0-cdh6.2.1

mvn clean install -Dcheckstyle.skip=true -DskipTests -Drat.skip=true

```
